<polymer-element name="g-table" attributes="title columns rows actions">
	<template>
		<link rel="stylesheet" href="g-table.css">
		<div class="{{ class }}">
			<h3 id="title">{{ title }}</h3>
			<table id="table" class="table table-hover">
				<thead>
					<tr>
						<template repeat="{{ column, j in columns }}">
							<template if="{{ column.length }}">
								<th style="width: {{ column.length }};">{{ column.title }}</th>
							</template>
							<template if="{{ !column.length }}">
								<th>{{ column.title }}</th>
							</template>
							
						</template>
					</tr>
				</thead>
				<tfoot></tfoot>
				<tbody>
					<template repeat="{{ row, i in rows }}">
						<tr>
							<template repeat="{{ column, j in columns }}">
								<template if="{{ column.name == '_actions' }}">
									<td>
										<template if="{{ row._actions.type == 'dropdown' }}">
											<g-dropdown label="Ações" options="{{ row._actions.options }}" type="primary"></g-dropdown>
										</template>
										<template if="{{ row._actions.type == 'button' }}">
											<template repeat="{{ option in  row._actions.options }}">
												<g-button label="{{ option.label }}" type="{{ option.type }}" href="{{ option.href }}"></g-button>
											</template>
										</template>
									</td>
								</template>

								<template if="{{ column.name != '_actions' }}">
									<td>{{ row[column.name] }}</td>
								</template>
							</template>
						</tr>
					</template>			
				</tbody>
			</table>
		</div>
	</template>
	<script>
    	Polymer('g-table', {

    		columns: [], /* The Header */

    		rows:[],

    		class: "hide",

    		clear: function() {
    			this.rows = [];
    			this.class = "hide";
    		},

    		_oldAppendRow: function(row) {
    			var html = '<tr>\n';
    			$.each(row, function(key, value) {
					html += '\t<td>' + value + '</td>\n';
				});
    			html += '</tr>\n';
    			
    			$(this.$.table).append(html);
    		},

    		appendRow: function(row) {
    			this.rows.push(row);
    			this.class = "show rounded";
    		}
    	});
	</script>
</polymer-element>