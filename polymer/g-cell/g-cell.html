<polymer-element name="g-cell" extends="g-base" attributes="text error issues">
	<template>
		<link rel="stylesheet" href="g-cell.css">
		<g-tooltip label='{{ issues }}' disabled?="{{ !error }}" position="top">
			<div id="cell" class="{{ error ? 'error' : '' }}"></div>
        </g-tooltip>
	</template>
	<script>
    	Polymer('g-cell', {
    		
    		attached: function() {
    			/*
    			 * This code breaks when we update the 'errorMessage' attribute to something truthy,
    			 showing an empty cell. For now, we must use '{{ text ? text : '&nbsp;' }}' as above
    			 */
				this.byId('cell').innerHTML = this.text ? this.text : '&nbsp;';
    		},
    		
    		/*
    		onClick: function(evt, detail, sender) {
    			console.log(this.error, this.errorMessage);
    		},

			onMouseOver: function(evt, detail, sender) {
				if(this.error)
				{
					console.log("OVER", this.errorMessage);
				}
			},
			
			onMouseOut: function(evt, detail, sender) {
				if(this.error)
				{
					console.log("OUT", this.errorMessage);
				}
			}
			*/
    	});
	</script>
</polymer-element>
